<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Keylogger</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="icon" href="data:," />
		<style>
			html {
				color: #ffffff;
				background: #000000;
				font-size: 30px;
				font-weight: normal;
				line-height: 1.5;
				overflow: hidden;
			}
			body {
				margin: 0px auto;
				text-align: center;
			}
			.container-key {
				margin: 8px 0;
			}
			.key {
				padding: 0 4px;
			}
		</style>
	</head>
	<body>
		<div class="container-key"></div>
		<script defer>
			const ws = new WebSocket("wss://127.0.0.1:33300");
			const containerKey = document.querySelector(".container-key");
			ws.onopen = () => {
				console.log("OK!");
			};
			ws.onmessage = ({ data }) => {
				const span = document.createElement("span");
				span.classList.add("key");
				// Meta
				if (data.includes("Meta")) {
					data = data.replace("Meta", "Cmd");
				}
				// Shift
				// if (data.includes("Shift")) {
				// 	data = data.replace("Shift", "󰄝");
				// }
				// Space
				// if (data.includes("Space")) {
				// 	data = data.replace("Space", "󱁐");
				// }
				// Capslock
				if (data.includes("CapsLock")) {
					data = data.replace("CapsLock", "󰌎");
				}
				// Backspace
				// if (data.includes("Backspace")) {
				// 	data = data.replace("Backspace", "󰌍");
				// }
				// Arrow
				if (data.includes("Arrow Up")) {
					data = data.replace("Arrow Up", "");
				}
				if (data.includes("Arrow Down")) {
					data = data.replace("Arrow Down", "");
				}
				if (data.includes("Arrow Left")) {
					data = data.replace("Arrow Left", "");
				}
				if (data.includes("Arrow Right")) {
					data = data.replace("Arrow Right", "");
				}
				span.textContent = data;
				containerKey.insertBefore(span, containerKey.firstChild);
				setTimeout(() => {
					containerKey.removeChild(span);
				}, 2000);
			};
			ws.onclose = () => {
				console.log("Closed!");
			};
			ws.onerror = (e) => {
				console.error(e);
			};
		</script>
	</body>
</html>
