<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Keylogger</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="icon" href="data:," />
		<style>
			html {
				color: #ffffff;
				background: #000000;
				font-size: 30px;
				font-weight: normal;
				line-height: 1.5;
				overflow: hidden;
			}
			body {
				margin: 0px auto;
				text-align: center;
			}
			.container-key {
				margin: 8px 0;
			}
			.key {
				padding: 0 4px;
			}
		</style>
	</head>
	<body>
		<div class="container-key"></div>
		<script>
			const ws = new WebSocket("wss://127.0.0.1:33300");
			const containerKey = document.querySelector(".container-key");
			ws.onopen = () => {
				console.log("OK!");
			};
			ws.onmessage = ({ data }) => {
				const span = document.createElement("span");
				span.classList.add("key");
				if (data == "Meta") {
					data = "Cmd";
				}
				if (data == "Arrow Up") {
					data = "Up";
				}
				if (data == "Arrow Down") {
					data = "Down";
				}
				if (data == "Arrow Left") {
					data = "Left";
				}
				if (data == "Arrow Right") {
					data = "Right";
				}
				span.textContent = data;
				containerKey.insertBefore(span, containerKey.firstChild);
				setTimeout(() => {
					containerKey.removeChild(span);
				}, 2000);
			};
			ws.onclose = () => {
				console.log("Closed!");
			};
			ws.onerror = (e) => {
				console.error(e);
			};
		</script>
	</body>
</html>
